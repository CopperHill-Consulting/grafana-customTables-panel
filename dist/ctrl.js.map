{"version":3,"sources":["../src/ctrl.js"],"names":["RGX_SIMPLE_NUMBER","DEFAULT_PSEUDO_CSS","CONTENT_RULE_TYPES","id","text","CONTENT_RULE_CLASS_LEVELS","CONTENT_RULE_MAX_VALUE_OPS","CONTENT_RULE_MIN_VALUE_OPS","CONTENT_RULE_EXACT_NUM_OPS","DEFAULT_PANEL_SETTINGS","pseudoCSS","columnDefs","isFullWidth","allowOrdering","allowSearching","allowLengthChange","pageLengths","initialPageLength","parseRegExp","strPattern","parts","exec","RegExp","_","escapeRegExp","pseudoCssToJSON","strLess","openCount","closeCount","replace","match","ruleName","styleName","styleValue","JSON","stringify","trim","parse","e","Error","setContent","jElem","ctrl","data","panel","height","tableOpts","cls","style","width","table","JS","dom","jTable","jQuery","appendTo","html","colDefs","colDefRgxs","map","colDef","filter","colDefIndexByCol","columnTexts","title","reduce","carry","colDefRgx","colDefIndex","test","colDefContentRuleFilters","contentRules","rule","type","options","rows","columns","colIndex","result","display","isVisible","classNames","className","orderable","isOrderable","searchable","isSearchable","visible","scrollY","scrollX","scrollCollapse","ordering","searching","lengthChange","lengthMenu","getPageLengthOptions","arr","opt","concat","value","Infinity","pageLength","order","rowCallback","tr","rowData","tdIndex","cell","rules","forEach","ruleIndex","isMatch","minValue","minIsNum","maxValue","maxIsNum","minValueOp","maxValueOp","negateCriteria","classLevel","addClass","eq","dataTable","DataTable","find","css","fixDataTableSize","each","i","elem","appendChild","console","log","jWrap","fullHeight","wrapHeight","jScrollBody","scrollHeight","nonScrollHeight","renderNow","error","isValid","jContent","elemContent","pageLengthOptions","length","err","msg","message","elemMsg","alignItems","textAlign","$","margin","append","parseData","col","DataTablePanelCtrl","$scope","$injector","$rootScope","defaultsDeep","events","on","onInitEditMode","bind","onDataReceived","onDataError","path","addEditorTab","dataList","extend","isReal","EXTRA_COLS","range","y","x","Math","random","obj","key","newValue","name","eval","push","columnDef","splice","indexOf","url","openNewWindow","contentRule","split","parseInt","emit","scope","attrs","call","debounce","MetricsPanelCtrl","templateUrl"],"mappings":"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","sourcesContent":["import {MetricsPanelCtrl} from 'app/plugins/sdk';\nimport _ from 'lodash';\nimport * as JS from './external/YourJS.min';\nimport './external/datatables/js/jquery.dataTables.min';\nimport './external/datatables/js/dataTables.fixedHeader.min';\nimport './external/datatables/css/jquery.dataTables.min.css!';\nimport './external/datatables/css/fixedHeader.dataTables.min.css!';\nimport './external/datatables-grafana-fix.css!';\n\nconst RGX_SIMPLE_NUMBER = /^\\d+(\\.\\d+)?$/;\n\nconst DEFAULT_PSEUDO_CSS = `\n.theme-dark & {\n  color: white;\n}\ntable.dataTable tbody tr {\n  &:hover td {\n    background-image: linear-gradient(0deg, rgba(128,128,128,0.1), rgba(128,128,128,0.1));\n  }\n  &, &.even, &.odd {\n    background-color: transparent;\n    >.sorting_1, >.sorting_2, >.sorting_3 {\n      background-color: transparent;\n    }\n    td {\n      border-color: transparent;\n    }\n  }\n  &.odd {\n    background-color: rgba(128,128,128,0.3);\n  }\n  &.even {\n    background-color: rgba(128,128,128,0.15);\n  }\n}\n`;\n\nconst CONTENT_RULE_TYPES = [\n  { id: 'FILTER', text: 'Filter by exact value or RegExp' },\n  { id: 'RANGE', text: \"Match a range of values\" },\n  { id: 'NULL', text: \"Is NULL\" }\n];\n\nconst CONTENT_RULE_CLASS_LEVELS = [\n  { id: 'CELL', text: \"Only the cell\" },\n  { id: 'ROW', text: 'Entire row' }\n];\n\nconst CONTENT_RULE_MAX_VALUE_OPS = [\n  { id: '', text: '' },\n  { id: '>=', text: '\\u2265 (greater than or equal to)' },\n  { id: '>', text: '> (greater than)' }\n];\n\nconst CONTENT_RULE_MIN_VALUE_OPS = [\n  { id: '', text: '' },\n  { id: '<', text: '< (less than)' },\n  { id: '<=', text: '\\u2264 (less than or equal to)' }\n];\n\nconst CONTENT_RULE_EXACT_NUM_OPS = [\n  { id: '==', text: '= (equals)' },\n  { id: '!=', text: \"\\u2260 (doesn't)\" }\n];\n\nconst DEFAULT_PANEL_SETTINGS = {\n  pseudoCSS: DEFAULT_PSEUDO_CSS,\n  columnDefs: [],\n  isFullWidth: true,\n  allowOrdering: true,\n  allowSearching: true,\n  allowLengthChange: true,\n  pageLengths: '10,15,20,25,50,100',\n  initialPageLength: 25\n};\n\nfunction parseRegExp(strPattern) {\n  let parts = /^\\/(.+)\\/(\\w*)$/.exec(strPattern);\n  return parts ? new RegExp(parts[1], parts[2]) : new RegExp('^' + _.escapeRegExp(strPattern) + '$', 'i');\n}\n\nfunction pseudoCssToJSON(strLess) {\n  var openCount = 0;\n  var closeCount = 0;\n\n  strLess = strLess\n    .replace(/\\/\\*[^]*?\\*\\//g, '')\n    .replace(\n      /([^\\{\\};]+)\\{|([^:\\{\\}]+):([^;]+);|\\}/g,\n      function (match, ruleName, styleName, styleValue) {\n        if (ruleName) {\n          openCount++;\n          return JSON.stringify(ruleName.trim()) + \":{\";\n        }\n        if (styleName) {\n          return JSON.stringify(styleName.trim()) + \":\" + JSON.stringify(styleValue.trim()) + \",\";\n        }\n        closeCount++;\n        return \"},\";\n      }\n    )\n    .replace(/,\\s*(\\}|$)/g, '$1');\n\n  try {\n    return JSON.stringify(JSON.parse(\"{\" + strLess + \"}\"), null, 2);\n  }\n  catch (e) {\n    throw new Error(\n      openCount !== closeCount\n        ? \"Pseudo-CSS contains too many \" + (openCount > closeCount ? \"open\" : \"clos\") + \"ing braces.\"\n        : \"Pseudo-CSS couldn't be parsed correctly.\"\n    );\n  }\n}\n\nfunction setContent(jElem, ctrl) {\n  let data = ctrl.data;\n  let panel = ctrl.panel;\n  let height = jElem.height();\n\n  let tableOpts = { _: 'table', cls: 'display', style: {} };\n  if (panel.isFullWidth) {\n    tableOpts.style.width = '100%';\n  }\n\n  let table = JS.dom(tableOpts);\n  let jTable = jQuery(table).appendTo(jElem.html(''));\n  let colDefs = panel.columnDefs;\n  let colDefRgxs = colDefs.map(colDef => parseRegExp(colDef.filter));\n  let colDefIndexByCol = data.columnTexts.map(\n    title => colDefRgxs.reduce(\n      (carry, colDefRgx, colDefIndex) => (carry < 0 && colDefRgx.test(title)) ? colDefIndex : carry,\n      -1\n    )\n  );\n  let colDefContentRuleFilters = colDefs.map(\n    colDef => colDef.contentRules.map(\n      rule => rule.type === 'FILTER' ? parseRegExp(rule.filter) : null\n    )\n  );\n  let options = {\n    data: data.rows,\n    columns: data.columnTexts.map((title, colIndex) => {\n      let result = { title };\n\n      let colDefIndex = colDefIndexByCol[colIndex];\n      let colDef = colDefs[colDefIndex];\n      if (colDef) {\n        let filter = colDefRgxs[colDefIndex];\n        if (filter.test(title)) {\n          if (colDef.display) {\n            result.title = title.replace(filter, colDef.display);\n          }\n          if (colDef.isVisible) {\n            if (colDef.width) {\n              result.width = colDef.width;\n            }\n            if (colDef.classNames) {\n              result.className = colDef.classNames;\n            }\n            result.orderable = colDef.isOrderable;\n            result.searchable = colDef.isSearchable;\n          }\n          else {\n            result.visible = colDef.isVisible;\n          }\n        }\n      }\n\n      return result;\n    }),\n    scrollY: height,\n    scrollX: true,\n    scrollCollapse: true,\n    ordering: panel.allowOrdering,\n    searching: panel.allowSearching,\n    lengthChange: panel.allowLengthChange,\n    lengthMenu: ctrl.getPageLengthOptions().reduce(\n      (arr, opt) => [\n        arr[0].concat([opt.value === Infinity ? -1 : opt.value]),\n        arr[1].concat([opt.value === Infinity ? 'All' : opt.value])\n      ],\n      [[],[]]\n    ),\n    pageLength: panel.initialPageLength,\n    order: [],\n    rowCallback: function(tr, rowData) {\n      let tdIndex = -1;\n      rowData.map((cell, colIndex) => {\n        let colDefIndex = colDefIndexByCol[colIndex];\n        let colDef = colDefs[colDefIndex];\n\n        if (!colDef || colDef.isVisible) {\n          tdIndex++;\n        }\n\n        if (colDef) {\n          if (colDef.isVisible) {\n            let rules = colDef.contentRules;\n            rules.forEach((rule, ruleIndex) => {\n              let isMatch = true;\n              let type = rule.type;\n              if (type === 'FILTER') {\n                isMatch = colDefContentRuleFilters[colDefIndex][ruleIndex].test(cell);\n              }\n              else if (type === 'RANGE') {\n                let minValue = rule.minValue;\n                let minIsNum = RGX_SIMPLE_NUMBER.test(minValue);\n                let maxValue = rule.maxValue;\n                let maxIsNum = RGX_SIMPLE_NUMBER.test(maxValue);\n                if (minIsNum) {\n                  minValue = +minValue;\n                }\n                if (maxIsNum) {\n                  maxValue = +maxValue;\n                }\n\n                if (minIsNum || maxIsNum) {\n                  cell = +cell;\n                }\n\n                let minValueOp = rule.minValueOp;\n                if (minValueOp) {\n                  isMatch = isMatch && (minValueOp === '<=' ? minValue <= cell : (minValue < cell));\n                }\n                let maxValueOp = rule.maxValueOp;\n                if (maxValueOp) {\n                  isMatch = isMatch && (maxValueOp === '>=' ? maxValue >= cell : (maxValue > cell));\n                }\n              }\n              else {\n                isMatch = cell == null;\n              }\n\n              isMatch = isMatch !== rule.negateCriteria;\n\n              // If this is a match apply the class(es)\n              if (isMatch) {\n                if (rule.classNames) {\n                  if (rule.classLevel === 'ROW') {\n                    jQuery(tr).addClass(rule.classNames);\n                  }\n                  else {\n                    jQuery('>td', tr).eq(tdIndex).addClass(rule.classNames);\n                  }\n                }\n              }\n            });\n          }\n        }\n      });\n    }\n  };\n  let dataTable = jTable.DataTable(options);\n\n  jElem.find('.dataTables_scrollHeadInner').css('margin', '0 auto');\n  fixDataTableSize(jElem.find('.dataTables_wrapper'), height);\n\n  jElem.each((i, elem) => {\n    elem.className = elem.className.replace(/\\b_\\d+\\b/g, ' ').replace(/\\s+/g, ' ').trim();\n    elem.appendChild(JS.css(JSON.parse(pseudoCssToJSON(panel.pseudoCSS)), elem));\n  });\n\n  console.log({ colDefRgxs, colDefIndexByCol });\n}\n\nfunction fixDataTableSize(jWrap, fullHeight) {\n  let wrapHeight = jWrap.height();\n  let jScrollBody = jWrap.find('.dataTables_scrollBody');\n  let scrollHeight = jScrollBody.height();\n  let nonScrollHeight = wrapHeight - scrollHeight;\n  jScrollBody.css('max-height', fullHeight - nonScrollHeight);\n}\n\nfunction renderNow(e, jElem) {\n  let error,\n      isValid = false,\n      ctrl = this,\n      data = ctrl.data,\n      jContent = jElem.find('.panel-content').css('position', 'relative').html(''),\n      elemContent = jContent[0];\n\n  ctrl.pageLengthOptions = ctrl.getPageLengthOptions();\n  \n  if (data && data.rows.length) {\n    if (data.type === 'table') {\n      try {\n        setContent(jContent, ctrl);\n        isValid = true;\n      }\n      catch (err) {\n        error = err;\n      }\n    }\n  }\n  if (!isValid) {\n    let msg = 'No data' + (error ? ':  \\r\\n' + error.message : '.');\n    let elemMsg = JS.dom({ _: 'div', style: { display: 'flex', alignItems: 'center', textAlign: 'center', height: '100%' }, $: [\n      { _: 'div', cls: 'alert alert-error', style: { margin: '0px auto' }, text: msg }\n    ]});\n    jContent.html('').append(elemMsg);\n  }\n}\n\nfunction parseData(columns, rows) {\n  return {\n    columns,\n    rows,\n    columnTexts: columns.map(col => 'string' === typeof col ? col : col.text)\n  };\n}\n\nexport class DataTablePanelCtrl extends MetricsPanelCtrl {\n  constructor($scope, $injector, $rootScope) {\n    super($scope, $injector);\n\n    this.$rootScope = $rootScope;\n    this.data = null;\n\n    _.defaultsDeep(this.panel, DEFAULT_PANEL_SETTINGS);\n\n    this.events.on('init-edit-mode', this.onInitEditMode.bind(this));\n    this.events.on('data-received', this.onDataReceived.bind(this));\n    this.events.on('data-snapshot-load', this.onDataReceived.bind(this));\n    this.events.on('data-error', this.onDataError.bind(this));\n  }\n\n  onInitEditMode() {\n    let path = 'public/plugins/copperhill-datatables-panel/partials/';\n    this.addEditorTab('Options', `${path}editor.html`, 2);\n    this.addEditorTab('Column Definitions', `${path}column-defs.html`, 3);\n    this.addEditorTab('Styles', `${path}styles.html`, 4);\n  }\n\n  onDataError() {\n    this.renderNow();\n  }\n\n  onDataReceived(dataList) {\n    if (dataList && dataList.length) {\n      let data = dataList[0];\n      this.data = _.extend(\n        parseData(data.columns, data.rows),\n        { isReal: true, type: data.type }\n      );\n    }\n    else {\n      let EXTRA_COLS = 2;\n      this.data = _.extend(\n        parseData(\n          [{ text: \"X\" }, { text: \"X * X\" }, { text: \"X + X\" }].concat(_.range(EXTRA_COLS).map(y => ({ text: `${y} / Math.random()`}))),\n          _.range(150).map(x => [x, x * x, x + x].concat(_.range(EXTRA_COLS).map(y => y / Math.random())))\n        ),\n        { isReal: false, type: 'table' }\n      );\n    }\n\n    this.renderNow();\n  }\n\n  onChangeCallback(obj, key) {\n    return newValue => {\n      obj[key] = newValue;\n      this.renderNow();\n    };\n  }\n\n  getConstByName(name) {\n    if (/^[A-Z_][A-Z_0-9]*$/.test(name)) {\n     return eval(name);\n    }\n  }\n\n  addColumnDef() {\n    this.panel.columnDefs.push({\n      filter: '/[^]*/',\n      display: '',\n      width: '',\n      classNames: '',\n      isVisible: true,\n      isOrderable: true,\n      isSearchable: true,\n      contentRules: []\n    });\n  }\n\n  removeColumnDef(columnDef) {\n    let columnDefs = this.panel.columnDefs;\n    columnDefs.splice(columnDefs.indexOf(columnDef), 1);\n  }\n\n  addColumnContentRule(columnDef) {\n    columnDef.contentRules.push({\n      type: CONTENT_RULE_TYPES[0].id,\n      classNames: '',\n      classLevel: CONTENT_RULE_CLASS_LEVELS[0].id,\n      filter: '',\n      negateCriteria: false,\n      display: '',\n      minValue: null,\n      maxValue: null,\n      minValueOp: null,\n      maxValueOp: null,\n      url: '',\n      openNewWindow: true\n    });\n  }\n\n  removeColumnContentRule(contentRule, columnDef) {\n    let contentRules = columnDef.contentRules;\n    contentRules.splice(contentRules.indexOf(contentRule), 1);\n  }\n\n  getPageLengthOptions() {\n    return this.panel.pageLengths\n        .replace(/\\s+/g, '')\n        .split(',')\n        .reduce(\n          (arr, x) => {\n            if (+x === parseInt(x, 10) && +x >= -1) {\n              x = x == -1 ? Infinity : +x;\n              arr.push({ value: x, text: x === Infinity ? 'All' : x });\n            }\n            return arr;\n          },\n          []\n        );\n  }\n\n  renderNow(e, elem) {\n    this.events.emit('renderNow');\n  }\n\n  renderAfterOneSec() {\n    this.events.emit('renderAfterOneSec');\n  }\n\n  link(scope, elem, attrs, ctrl) {\n    this.events.on('renderNow', e => renderNow.call(this, e, elem));\n    this.events.on('render', _.debounce(e => renderNow.call(this, e, elem), 250));\n    this.events.on('renderAfterOneSec', _.debounce(e => renderNow.call(this, e, elem), 1000));\n  }\n}\n\nDataTablePanelCtrl.templateUrl = 'partials/module.html';\n"],"file":"ctrl.js"}